

##################### DARKS - LM, N, IFU ######################

DARK_2RG_RAW:
  prefix: DARK_2RG_RAW
  mode: "img_lm"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit:
      - 0.004
      - 0.25
      - 0.05
      - 10
    ndit: 1
    filter_name: "closed"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "DARK"
    mjdobs:
      - 2024-01-02 00:45:10
      - 2024-01-02 00:45:20
    tplname: "METIS_gen_cal_dark"

DARK_GEO_RAW:
  prefix: DARK_GEO_RAW
  mode: "img_n"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 
      - 0.004
      - 0.25
      - 0.05
      - 10
    ndit: 1
    filter_name: "closed"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "DARK"
    mjdobs:
      - 2024-01-02 00:46:10
      - 2024-01-02 00:46:20
    tplname: "METIS_gen_cal_dark"

DARK_IFU_RAW:
  prefix: DARK_IFU_RAW
  mode: "lms"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 
      - 0.004
      - 100
      - 10
    ndit: 1
    filter_name: "closed"
    catg: "CALIB"
    tech: "LMS"
    type: "DARK"
    mjdobs:
      - 2024-01-02 00:47:10
      - 2024-01-02 00:47:20
    tplname: "METIS_gen_cal_dark"

LM_WCU_OFF_RAW:
  prefix: LM_WCU_OFF_RAW
  mode: "img_lm"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 
      - 1.
      - 17.5
      - 34.
      - 50.5
      - 67.
      - 83.5
      - 100
    ndit: 1
    filter_name: "closed"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "DARK,WCUOFF"
    mjdobs:
      - 2024-01-02 00:48:10
      - 2024-01-02 00:48:20
    tplname: "METIS_img_lm_cal_DetLin"

N_WCU_OFF_RAW:
  prefix: N_WCU_OFF_RAW
  mode: "img_n"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 
      - 1.
      - 17.5
      - 34.
      - 50.5
      - 67.
      - 83.5
      - 100
    ndit: 1
    filter_name: "closed"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "DARK,WCUOFF"
    mjdobs:
      - 2024-01-02 00:49:10
      - 2024-01-02 00:49:20
    tplname: "METIS_img_n_cal_DetLin"

IFU_WCU_OFF_RAW:
  prefix: IFU_WCU_OFF_RAW
  mode: "lms"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 
      - 1.
      - 17.5
      - 34.
      - 50.5
      - 67.
      - 83.5
      - 100
    ndit: 1
    filter_name: "closed"
    catg: "CALIB"
    tech: "LMS"
    type: "DARK,WCUOFF"
    mjdobs:
      - 2024-01-02 00:50:10
      - 2024-01-02 00:50:20
    tplname: "METIS_ifu_cal_DetLin" 

##################### DETLIN - LM, N, IFU #####################

DETLIN_2RG_RAW:
  prefix: DETLIN_2RG_RAW
  mode: "img_lm"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit:
      - 1.
      - 17.5
      - 34.
      - 50.5
      - 67.
      - 83.5
      - 100
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "DETLIN"
    mjdobs:
      - 2024-01-02 01:45:00
      - 2024-01-02 01:45:10
    tplname: "METIS_img_lm_cal_DetLin"

DETLIN_GEO_RAW:
  prefix: DETLIN_GEO_RAW
  mode: "img_n"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit:
      - 1.
      - 17.5
      - 34.
      - 50.5
      - 67.
      - 83.5
      - 100
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "DETLIN"
    mjdobs:
      - 2024-01-02 01:46:00
      - 2024-01-02 01:46:10
    tplname: "METIS_img_n_cal_DetLin"

DETLIN_IFU_RAW:
  prefix: DETLIN_IFU_RAW
  mode: "img_lm"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit:
      - 1.
      - 17.5
      - 34.
      - 50.5
      - 67.
      - 83.5
      - 100
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LMS"
    type: "DETLIN"
    mjdobs:
      - 2024-01-02 01:47:00
      - 2024-01-02 01:47:10
    tplname: "METIS_ifu_cal_DetLin"


##################### FLATS - LM, N ######################

# There are only flats for LM and N, but not for the IFU, because
#  it is not possible to remove the mirrors from the optical path.

#### OPEN FILTER #####

LM_FLAT_LAMP_OPEN_RAW:
  prefix: LM_FLAT_LAMP_RAW
  mode: "img_lm"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 10
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "FLAT,LAMP"
    mjdobs:
      - 2024-01-02 02:35:10
      - 2024-01-02 02:35:20
    tplname: "METIS_img_lm_cal_InternalFlat"

LM_FLAT_TWILIGHT_OPEN_RAW:
  prefix: LM_FLAT_TWILIGHT_RAW
  mode: "img_lm"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 10
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "FLAT,TWILIGHT"
    mjdobs:
      - 2024-01-02 02:36:10
      - 2024-01-02 02:36:20
    tplname: "METIS_img_lm_cal_TwilightFlat"


N_FLAT_LAMP_OPEN_RAW:
  prefix: N_FLAT_LAMP_RAW
  mode: "img_n"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 10
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "FLAT,LAMP"
    mjdobs:
      - 2024-01-02 02:37:10
      - 2024-01-02 02:37:20
    tplname: "METIS_img_n_cal_InternalFlat"

N_FLAT_TWILIGHT_OPEN_RAW:
  prefix: N_FLAT_TWILIGHT_RAW
  mode: "img_n"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 10
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "FLAT,TWILIGHT"
    mjdobs:
      - 2024-01-02 02:38:10
      - 2024-01-02 02:38:20
    tplname: "METIS_img_n_cal_TwilightFlat"

#### WITH FILTER #####


LM_FLAT_LAMP_RAW:
  prefix: LM_FLAT_LAMP_RAW
  mode: "img_lm"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 10
    ndit: 1
    filter_name: "Lp"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "FLAT,LAMP"
    mjdobs:
      - 2024-01-02 02:41:10
      - 2024-01-02 02:41:20
    tplname: "METIS_img_lm_cal_InternalFlat"

LM_FLAT_TWILIGHT_RAW:
  prefix: LM_FLAT_TWILIGHT_RAW
  mode: "img_lm"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 10
    ndit: 1
    filter_name: "Lp"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "FLAT,TWILIGHT"
    mjdobs:
      - 2024-01-02 02:42:10
      - 2024-01-02 02:42:10
    tplname: "METIS_img_lm_cal_TwilightFlat"


N_FLAT_LAMP_N1_RAW:
  prefix: N_FLAT_LAMP_RAW
  mode: "img_n"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 10
    ndit: 1
    filter_name: "N1"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "FLAT,LAMP"
    mjdobs:
      - 2024-01-02 02:45:10
      - 2024-01-02 02:45:20
    tplname: "METIS_img_n_cal_InternalFlat"

N_FLAT_TWILIGHT_N1_RAW:
  prefix: N_FLAT_TWILIGHT_RAW
  mode: "img_n"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 10
    ndit: 1
    filter_name: "N1"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "FLAT,TWILIGHT"
    mjdobs:
      - 2024-01-02 02:46:10
      - 2024-01-02 02:46:20
    tplname: "METIS_img_n_cal_TwilightFlat"


##################### RSRF ######################3

####### TWO TEMPERATURES FOR EACH #########


LM_LSS_RSRF_RAW1:
  prefix: LM_LSS_RSRF_RAW
  mode: "img_lm"
  source:
    name: flat_field
    kwargs:
      temperature: 5000
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "L_spec"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "FLAT,LAMP"
    mjdobs:
      - 2024-01-02 03:35:10
      - 2024-01-02 03:35:20
    tplname: "METIS_spec_lm_cal_rsrf"


LM_LSS_RSRF_RAW2:
  prefix: LM_LSS_RSRF_RAW
  mode: "img_lm"
  source:
    name: flat_field
    kwargs:
      temperature: 5500
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "L_spec"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "FLAT,LAMP"
    mjdobs:
      - 2024-01-02 03:36:10
      - 2024-01-02 03:36:20
    tplname: "METIS_spec_lm_cal_rsrf"


N_LSS_RSRF_RAW1:
  prefix: N_LSS_RSRF_RAW
  mode: "img_n"
  source:
    name: flat_field
    kwargs:
      temperature: 5000
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 0.01
    ndit: 1
    filter_name: "N_spec"
    catg: "CALIB"
    tech: "LSS,N"
    type: "FLAT,LAMP"
    mjdobs:
      - 2024-01-02 03:37:10
      - 2024-01-02 03:37:20
    tplname: "METIS_spec_n_cal_rsrf"


N_LSS_RSRF_RAW2:
  prefix: N_LSS_RSRF_RAW
  mode: "img_n"
  source:
    name: flat_field
    kwargs:
      temperature: 5500
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 0.01
    ndit: 1
    filter_name: "N_spec"
    catg: "CALIB"
    tech: "LSS,N"
    type: "FLAT,LAMP"
    mjdobs:
      - 2024-01-02 03:38:10
      - 2024-01-02 03:38:20
    tplname: "METIS_spec_n_cal_rsrf"


IFU_RSRF_RAW1:
  prefix: IFU_RSRF_RAW
  mode: "lms"
  source:
    name: flat_field
    kwargs:
      temperature: 5500
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 15
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LMS"
    type: "RSRF"
    mjdobs:
      - 2024-01-02 03:39:10
      - 2024-01-02 03:39:20
    tplname: "METIS_ifu_cal_rsrf"

IFU_RSRF_RAW2:
  prefix: IFU_RSRF_RAW
  mode: "lms"
  source:
    name: flat_field
    kwargs:
      temperature: 5000
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 15
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LMS"
    type: "RSRF"
    mjdobs:
      - 2024-01-02 03:40:10
      - 2024-01-02 03:40:20
    tplname: "METIS_ifu_cal_rsrf"

######## WITH PINHOLE ########



LM_LSS_RSRF_PINH_RAW1:
  prefix: LM_LSS_RSRF_PINH_RAW
  mode: "lss_l"
  source: 
    name: pinhole_mask
    kwargs:
      temperature: 5500
      dx: 5
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "FLAT,LAMP,PINH"
    mjdobs:
      - 2024-01-02 03:41:10
      - 2024-01-02 03:41:20
    tplname: "METIS_spec_lm_cal_rsrfpinh"


LM_LSS_RSRF_PINH_RAW2:
  prefix: LM_LSS_RSRF_PINH_RAW
  mode: "lss_l"
  source: 
    name: pinhole_mask
    kwargs:
      temperature: 5000
      dx: 5
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "FLAT,LAMP,PINH"
    mjdobs:
      - 2024-01-02 03:42:10
      - 2024-01-02 03:42:20
    tplname: "METIS_spec_lm_cal_rsrfpinh"


N_LSS_RSRF_PINH_RAW1:
  prefix: N_LSS_RSRF_PINH_RAW
  mode: "lss_n"
  source: 
    name: pinhole_mask
    kwargs:
      temperature: 5500
      dx: 5
  properties:
    dit: 0.005
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "FLAT,LAMP,PINH"
    mjdobs:
      - 2024-01-02 03:43:10
      - 2024-01-02 03:43:20
    tplname: "METIS_spec_n_cal_rsrfpinh"



N_LSS_RSRF_PINH_RAW2:
  prefix: N_LSS_RSRF_PINH_RAW
  mode: "lss_n"
  source: 
    name: pinhole_mask
    kwargs:
      temperature: 4500
      dx: 5
  properties:
    dit: 0.005
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "FLAT,LAMP,PINH"
    mjdobs:
      - 2024-01-02 03:44:10
      - 2024-01-02 03:44:20
    tplname: "METIS_spec_n_cal_rsrfpinh"

#
# IFU_RSRF_PINH_RAW does not exist in the DRLD, should it?
#

#IFU_RSRF_PINH_RAW1:
#  prefix: IFU_RSRF_PINH_RAW
#  mode: "lms"
#  source:
#    name: pinhole_mask
#    kwargs:
#      temperature: 5500
#  properties:
#    dit: 15
#    ndit: 1
#    filter_name: "open"
#    ndfilter_name: "ND_OD3"
#    catg: "CALIB"
#    tech: "LMS"
#    type: "FLAT,LAMP"
#    mjdobs:
#      - 2024-01-02 03:45:10
#      - 2024-01-02 03:45:20
#
#
#IFU_RSRF_PINH_RAW2:
#  prefix: IFU_RSRF_PINH_RAW
#  mode: "lms"
#  source:
#    name: pinhole_mask
#    kwargs:
#      temperature: 5000
#  properties:
#    dit: 15
#    ndit: 1
#    filter_name: "open"
#    ndfilter_name: "ND_OD3"
#    catg: "CALIB"
#    tech: "LMS"
#    type: "FLAT,LAMP"
#    mjdobs:
#      - 2024-01-02 03:46:10
#      - 2024-01-02 03:46:20


##################### "STANDARDS" (SINGLE SOURCE AT CENTER) ######################

#### EACH IMAGE PAIRED WITH SKY ######

######### IMAGING ###############

LM_IMAGE_STD_RAW1:
  prefix: LM_IMAGE_STD_RAW
  mode: "img_lm"
  source: 
    name: simple_star12
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "STD"
    mjdobs:
      - 2024-01-02 04:35:10
      - 2024-01-02 04:35:20
    tplname: "METIS_img_lm_cal_standard"

LM_IMAGE_STD_RAW2:
  prefix: LM_IMAGE_STD_RAW
  mode: "img_lm"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "SKY"
    mjdobs:
      - 2024-01-02 04:36:10
      - 2024-01-02 04:36:20
    tplname: "METIS_img_lm_cal_standard"

N_IMAGE_STD_RAW1:
  prefix: N_IMAGE_STD_RAW
  mode: "img_n"
  source: 
    name: simple_star12
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "N1"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "STD"
    mjdobs:
      - 2024-01-02 04:37:10
      - 2024-01-02 04:37:20
    tplname: "METIS_img_n_cal_standard"

N_IMAGE_STD_RAW2:
  prefix: N_IMAGE_STD_RAW
  mode: "img_n"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "N1"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "SKY"
    mjdobs:
      - 2024-01-02 04:38:10
      - 2024-01-02 04:38:20
    tplname: "METIS_img_n_cal_standard"


######### SPECTRA ###############

LM_LSS_STD_RAW1:
  prefix: LM_LSS_STD_RAW
  mode: "lss_l"
  source: 
    name: simple_star8
    kwargs: {}
  properties:
    dit: 0.05
    ndit: 1
    filter_name: "L_spec"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "STD"
    mjdobs:
      - 2024-01-02 04:41:10
      - 2024-01-02 04:41:20
    tplname: "METIS_spec_lm_cal_Standard"


LM_LSS_STD_RAW2:
  prefix: LM_LSS_STD_RAW
  mode: "lss_l"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.05
    ndit: 1
    filter_name: "L_spec"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SKY"
    mjdobs:
      - 2024-01-02 04:42:10
      - 2024-01-02 04:42:20
    tplname: "METIS_spec_lm_cal_Standard"


N_LSS_STD_RAW1:
  prefix: N_LSS_STD_RAW
  mode: "lss_n"
  source: 
    name: simple_star8
    kwargs: {}
  properties:
    dit: 0.05
    ndit: 1
    filter_name: "N_spec"
    catg: "CALIB"
    tech: "LSS,N"
    type: "STD"
    mjdobs:
      - 2024-01-02 04:43:10
      - 2024-01-02 04:43:20
    tplname: "METIS_spec_n_cal_Standard"

N_LSS_STD_RAW2:
  prefix: N_LSS_STD_RAW
  mode: "lss_n"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.05
    ndit: 1
    filter_name: "N_spec"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SKY"
    mjdobs:
      - 2024-01-02 04:44:10
      - 2024-01-02 04:44:20
    tplname: "METIS_spec_n_cal_Standard"

########## IFU ###############


IFU_STD_RAW1:
  prefix: IFU_STD_RAW
  mode: "lms"
  source:
    name: simple_star8
    kwargs: {}
  properties:
    dit: 100
    ndit: 3
    filter_name: "Lp"
    wavelen: "3.555"
    catg: "CALIB"
    tech: "LMS"
    type: "STD"
    mjdobs:
      - 2024-01-02 04:47:10
      - 2024-01-02 04:47:20
    tplname: "METIS_ifu_cal_standard"

# metis_ifu_reduce does not differentiate between
# a SKY image for a standard observation and a
# SKY image for a science observation. They are
# both IFU_SKY_RAW. Maybe that should be changed?
IFU_SKY_RAW2:
  prefix: IFU_SKY_RAW
  mode: "lms"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 100
    ndit: 3
    filter_name: "Lp"
    wavelen: "3.555"
    catg: "CALIB"
    tech: "LMS"
    type: "SKY"
    mjdobs:
      - 2024-01-02 04:48:10
      - 2024-01-02 04:48:20
    tplname: "METIS_ifu_cal_standard"


##################### STAR FIELD (SCIENCE SOURCE, LM/N) ######################3

### POSITIONS / MAGNITUDES WERE INTIALLY SET RANDOMLY, BUT FIXED FOR THE SET OF SIMULATIONS #####


LM_IMAGE_SCI_RAW1:
  prefix: LM_IMAGE_SCI_RAW
  mode: "img_lm"
  source: 
    name: star_field
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 4
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "IMAGE,LM"
    type: "OBJECT"
    mjdobs:
      - 2024-01-02 05:35:10
      - 2024-01-02 05:35:20
    tplname: "METIS_img_lm_obs_GenericOffset"

LM_IMAGE_SCI_RAW2:
  prefix: LM_IMAGE_SCI_RAW
  mode: "img_lm"
  source: 
    name: "empty_sky"
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 4
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "IMAGE,LM"
    type: "SKY"
    mjdobs:
      - 2024-01-02 05:36:10
      - 2024-01-02 05:36:20
    tplname: "METIS_img_lm_obs_GenericOffset"

N_IMAGE_SCI_RAW1:
  prefix: N_IMAGE_SCI_RAW
  mode: "img_lm"
  source: 
    name: star_field
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 4
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "IMAGE,N"
    type: "OBJECT"
    mjdobs:
      - 2024-01-02 05:37:10
      - 2024-01-02 05:37:20
    tplname: "METIS_img_n_obs_GenericChopNod"

N_IMAGE_SCI_RAW2:
  prefix: N_IMAGE_SCI_RAW
  mode: "img_lm"
  source: 
    name: "empty_sky"
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 4
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "IMAGE,N"
    type: "SKY"
    mjdobs:
      - 2024-01-02 05:38:10
      - 2024-01-02 05:38:10
    tplname: "METIS_img_n_obs_GenericChopNod"

##################### EXTENDED GALAXY (SCIENCE SOURCE SPECTRA) ######################


N_LSS_SCI_RAW1:
  prefix: N_LSS_SCI_RAW
  mode: "lss_n"
  source:
    name: simple_gal
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "N_spec"
    catg: "SCIENCE"
    tech: "LSS,N"
    type: "OBJECT"
    mjdobs:
      - 2024-01-02 05:39:10
      - 2024-01-02 05:39:20
    tplname: "METIS_spec_n_obs_AutoChopNodOnSlit"

N_LSS_SCI_RAW2:
  prefix: N_LSS_SCI_RAW
  mode: "lss_n"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "N_spec"
    catg: "SCIENCE"
    tech: "LSS,N"
    type: "SKY"
    mjdobs:
      - 2024-01-02 05:40:10
      - 2024-01-02 05:40:20
    tplname: "METIS_spec_n_obs_AutoChopNodOnSlit"



LM_LSS_SCI_RAW1:
  prefix: LM_LSS_SCI_RAW
  mode: "lss_l"
  source:
    name: simple_gal
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "L_spec"
    catg: "SCIENCE"
    tech: "LSS,LM"
    type: "OBJECT"
    mjdobs:
      - 2024-01-02 05:50:10
      - 2024-01-02 05:50:20
    tplname: "METIS_spec_lm_obs_AutoNodOnSlit"

LM_LSS_SCI_RAW2:
  prefix: LM_LSS_SCI_RAW
  mode: "lss_l"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "L_spec"
    catg: "SCIENCE"
    tech: "LSS,LM"
    type: "SKY"
    mjdobs:
      - 2024-01-02 05:51:10
      - 2024-01-02 05:51:20
    tplname: "METIS_spec_lm_obs_AutoNodOnSlit"

IFU_SCI_RAW:
  prefix: IFU_SCI_RAW
  mode: "lms"
  source:
    name: simple_gal
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "LMS"
    type: "OBJECT"
    mjdobs:
      - 2024-01-02 05:52:10
      - 2024-01-02 05:52:20
    tplname: "METIS_ifu_obs_GenericOffset"

IFU_SKY_RAW:
  prefix: IFU_SKY_RAW
  mode: "lms"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "CALIB"
    tech: "LMS"
    type: "SKY"
    mjdobs:
      - 2024-01-02 05:53:10
      - 2024-01-02 05:53:20
    tplname: "METIS_ifu_obs_GenericOffset"

##################### FOR CORONAGRAPH ################

### KLUDGING THE KEYWORDS A BIT HERE - RUN updateHeaders.py after ####

##### OFF AXIS PSFs #####


LM_OFF_AXIS_PSF_RAW:
  prefix: LM_OFF_AXIS_PSF_RAW
  mode: "img_lm"
  source: 
    name: simple_star12
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "PSF,OFFAXIS"
    mjdobs:
      - 2024-01-02 06:35:10
    tplname: "METIS_img_lm_vc_obs_FixedSkyOffset"

N_OFF_AXIS_PSF_RAW:
  prefix: N_OFF_AXIS_PSF_RAW
  mode: "img_n"
  source: 
    name: simple_star12
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "N1"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "PSF,OFFAXIS"
    mjdobs:
      - 2024-01-02 06:37:10
    tplname: "METIS_img_n_cvc_obs_AutoChop"

IFU_OFF_AXIS_PSF_RAW:
  prefix: IFU_OFF_AXIS_PSF_RAW
  mode: "lms"
  source:
    name: simple_star8
    kwargs: {}
  properties:
    dit: 100
    ndit: 3
    filter_name: "Lp"
    wavelen: "3.555"
    catg: "CALIB"
    tech: "LMS"
    type: "PSF,OFFAXIS"
    mjdobs:
      - 2024-01-02 06:38:10
    tplname: "METIS_ifu_vc_obs_FixedSkyOffset"

######### SOURCE (+ SKY) ##########

LM_IMAGE_SCI_CORONAGRAPH_RAW1:
  prefix: LM_IMAGE_SCI_RAW
  mode: "img_lm"
  source: 
    name: simple_star12
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "RAVC,LM"
    type: "OBJECT"
    mjdobs:
      - 2024-01-02 06:39:10
      - 2024-01-02 06:39:20
    tplname: "METIS_ifu_vc_obs_FixedSkyOffset"


LM_IMAGE_SCI_CORONAGRAPH_RAW2:
  prefix: LM_IMAGE_SCI_RAW
  mode: "img_lm"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "RAVC,LM"
    type: "SKY"
    mjdobs:
      - 2024-01-02 06:40:10
      - 2024-01-02 06:40:20
    tplname: "METIS_ifu_vc_obs_FixedSkyOffset"


LM_IMAGE_SCI_CORONAGRAPH_RAW3:
  prefix: LM_IMAGE_SCI_RAW
  mode: "img_lm"
  source: 
    name: simple_star12
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "APP,LM"
    type: "OBJECT"
    mjdobs:
      - 2024-01-02 06:41:10
      - 2024-01-02 06:41:20
    tplname: "METIS_img_lm_app_obs_FixedOffset"


LM_IMAGE_SCI_CORONAGRAPH_RAW4:
  prefix: LM_IMAGE_SCI_RAW
  mode: "img_lm"
  source: 
    name: empty_sky
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    catg: "SCIENCE"
    tech: "APP,LM"
    type: "SKY"
    mjdobs:
      - 2024-01-02 06:42:10
      - 2024-01-02 06:42:20
    tplname: "METIS_img_lm_app_obs_FixedOffset"

IFU_SCI_CORONAGRAPH_RAW1:
  prefix: IFU_SCI_RAW
  mode: "lms"
  source:
    name: simple_star8
    kwargs: {}
  properties:
    dit: 100
    ndit: 3
    filter_name: "Lp"
    wavelen: "3.555"
    catg: "SCIENCE"
    tech: "RAVC,IFU"
    type: "OBJECT"
    mjdobs:
      - 2024-01-02 06:43:10
      - 2024-01-02 06:43:20
    tplname: "METIS_ifu_vc_obs_FixedSkyOffset"

IFU_SCI_CORONAGRAPH_RAW2:
  prefix: IFU_SKY_RAW
  mode: "lms"
  source:
    name: empty_sky
    kwargs: {}
  properties:
    dit: 100
    ndit: 3
    filter_name: "Lp"
    wavelen: "3.555"
    catg: "CALIB"
    tech: "RAVC,IFU"
    type: "SKY"
    mjdobs:
      - 2024-01-02 05:44:10
      - 2024-01-02 05:44:20
    tplname: "METIS_ifu_vc_obs_FixedSkyOffset"


################## TECHNICAL IMAGES (not part of normal obs) ####################

##################### SLIT LOSSES (11 positions perpendicular to the slit) ########################

LM_SLITLOSSES_RAW1:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: -0.025   
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:30:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW2:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: -0.02
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:31:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW3:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.015
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:32:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW4:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: -0.01
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:33:10
    tplname: "METIS_spec_lm_cal_SlitAdc"

LM_SLITLOSSES_RAW5:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: -0.005
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:34:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW6:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:35:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW7:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.075
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:36:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW8:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.01
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:37:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW9:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.015
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:38:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW10:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.02
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:39:10
    tplname: "METIS_spec_lm_cal_SlitAdc"


LM_SLITLOSSES_RAW11:
  prefix: LM_SLITLOSSES_RAW
  mode: "lss_l"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.025
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:40:10
    tplname: "METIS_spec_lm_cal_SlitAdc"



N_LSS_SLITLOSSES_RAW1:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: -0.025   
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:41:10
    tplname: "METIS_spec_n_cal_slit"


N_LSS_SLITLOSSES_RAW2:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: -0.02
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:42:10
    tplname: "METIS_spec_n_cal_slit"


N_LSS_SLITLOSSES_RAW3:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.015
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:43:10
    tplname: "METIS_spec_n_cal_slit"

N_LSS_SLITLOSSES_RAW4:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: -0.01
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:44:10
    tplname: "METIS_spec_n_cal_slit"

N_LSS_SLITLOSSES_RAW5:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: -0.005
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:45:10
    tplname: "METIS_spec_n_cal_slit"


N_LSS_SLITLOSSES_RAW6:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:46:10
    tplname: "METIS_spec_n_cal_slit"


N_LSS_SLITLOSSES_RAW7:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.075
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:47:10
    tplname: "METIS_spec_n_cal_slit"

N_LSS_SLITLOSSES_RAW8:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.01
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:48:10
    tplname: "METIS_spec_n_cal_slit"


N_LSS_SLITLOSSES_RAW9:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.015
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:49:10
    tplname: "METIS_spec_n_cal_slit"


N_LSS_SLITLOSSES_RAW10:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.02
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:50:10
    tplname: "METIS_spec_n_cal_slit"


N_LSS_SLITLOSSES_RAW11:
  prefix: N_SLITLOSSES_RAW
  mode: "lss_n"
  source: 
    name: simple_star10
    kwargs:
      x: 0
      y: 0.025
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "LSS,N"
    type: "SLITLOSS"
    mjdobs:
      - 2024-01-03 03:51:10
    tplname: "METIS_spec_n_cal_slit"



##################### LASER SPECTRUM CALIBRATIONS ######################

LM_LSS_WAVE_RAW:
  prefix: LM_LSS_WAVE_RAW
  mode: "lss_l"
  source:
    name: "laser_spectrum_lm"
    kwargs: {}
  properties:
    dit: 0.004
    ndit: 1
    filter_name: "open"
    nd_filter_name: "ND_OD4"
    catg: "CALIB"
    tech: "LSS,LM"
    type: "WAVE"
    mjdobs:
      - 2024-01-03 04:45:10
    tplname: "METIS_spec_lm_cal_InternalWave"

N_LSS_WAVE_RAW:
  prefix: N_LSS_WAVE_RAW
  mode: "lss_n"
  source: 
    name: "laser_spectrum_n"
    kwargs: {}
  properties:
    dit: 0.0004
    ndit: 1
    filter_name: "open"
    nd_filter_name: "ND_OD4"
    catg: "CALIB"
    tech: "LSS,N"
    type: "WAVE"
    mjdobs:
      - 2024-01-03 04:46:10
    tplname: "METIS_spec_n_cal_InternalWave"

IFU_WAVE_RAW:
  prefix: IFU_WAVE_RAW
  mode: "lms"
  source: 
    name: "laser_spectrum_lm"
    kwargs: {}
  properties:
    dit: 0.0004
    ndit: 1
    filter_name: "open"
    nd_filter_name: "ND_OD4"
    catg: "CALIB"
    tech: "LMS"
    type: "WAVE"
    mjdobs:
      - 2024-01-03 04:47:10
    tplname: "METIS_ifu_cal_InternalWave"

########################### OTHER TECHNICAL #####################


LM_CHOPPERHOME_RAW:
  prefix: LM_CHOPPERHOME_RAW
  mode: "img_lm"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 10
    ndit: 1
    filter_name: "open"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "CHOPHOME"
    mjdobs:
      - 2024-01-03 05:45:10
    tplname: "METIS_img_lm_cal_ChopperHome"

LM_PUPIL_RAW:
  prefix: LM_PUPIL_RAW
  mode: "img_lm"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 10
    ndit: 1
    filter_name: "open"
    catg: "TECHNICAL"
    tech: "PUP,M"
    type: "PUPIL"
    mjdobs:
      - 2024-01-03 05:46:10
    tplname: "METIS_pup_lm"

N_PUPIL_RAW:
  prefix: N_PUPIL_RAW
  mode: "img_n"
  source:
    name: flat_field
    kwargs:
      temperature: 200
      amplitude: 0
      filter_curve: "V"
      extend: 15
  properties:
    dit: 10
    ndit: 1
    filter_name: "open"
    catg: "TECHNICAL"
    tech: "PUP,N"
    type: "PUPIL"
    mjdobs:
      - 2024-01-03 05:47:10
    tplname: "METIS_pup_n"



##################### DISTORTION (PINHOLE MASK) L, N, IFU ######################3

LM_DISTORTION_RAW:
  prefix: LM_DISTORTION_RAW
  mode: "img_lm"
  source:
    name: pinhole_mask
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    nd_filter_name: "ND_OD3"
    catg: "CALIB"
    tech: "IMAGE,LM"
    type: "DISTORTION"
    mjdobs:
      - 2024-01-03 05:48:10
    tplname: "METIS_img_lm_cal_distortion"

N_DISTORTION_RAW:
  prefix: N_DISTORTION_RAW
  mode: "img_n"
  source:
    name: pinhole_mask
    kwargs:
      dx: 5
      dy: 5
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "open"
    nd_filter_name: "ND_OD4"
    catg: "CALIB"
    tech: "IMAGE,N"
    type: "DISTORTION"
    mjdobs:
      - 2024-01-03 05:49:10
    tplname: "METIS_img_n_cal_distortion"


IFU_DISTORTION_RAW:
  prefix: IFU_DISTORTION_RAW
  mode: "lms"
  source:
    name: pinhole_mask
    kwargs: {}
  properties:
    dit: 0.25
    ndit: 1
    filter_name: "Lp"
    nd_filter_name: "ND_OD3"
    catg: "CALIB"
    tech: "LMS"
    type: "DISTORTION"
    mjdobs:
      - 2024-01-03 05:50:10
    tplname: "METIS_ifu_cal_distortion"

